<div class="mb-4">
  <div class="container-fluid bg-white">
    <div class="container pt-2 pb-2 d-flex justify-content-between">
      <img class="logo1" src="assets/logos/logo_sk.svg" alt="SK">
      <img class="logo2 mt-1" src="assets/logos/logo_sgm.svg" alt="SGM">
    </div>
  </div>
  <nav class="navbar navbar-expand-md navbar-dark bg-navbar pt-0 pb-0">
    <div class="container">
      <div class="collapse navbar-collapse row" id="navbarsExampleDefault">
        <ul class="navbar-nav mr-auto col-7 align-self-stretch">
          <li ngbDropdown class="nav-item dropdown" [class.active]="router.url.includes('/recebimento')"
            *hasAnyPermission="[Permissions.RecebimentoMaterialNotaEPedido,
                                Permissions.RecebimentoMaterialTransferenciaInstalacoes,
                                Permissions.RecebimentoMaterialFornecedorComNotaSemPedido,
                                Permissions.RecebimentoMaterialTerceiros,
                                Permissions.RecebimentoMaterialDevolvidoDestinatario,
                                Permissions.RecebimentoMaterialDevolvidoGuardaProvisoria]">
            <a class="nav-link navbar-item" id="navbarDropdown" ngbDropdownToggle>
              Recebimento
            </a>
            <div class="dropdown-menu dropdown-receivement bg-light" ngbDropdownMenu aria-labelledby="navbarDropdown">
              <div *hasPermission="[Permissions.RecebimentoMaterialNotaEPedido]">
                <a class="dropdown-item"
                  routerLink="/recebimento/material-de-fornecedor-com-nota-fiscal-e-com-pedido">Recebimento
                  de Material de Fornecedor com Nota Fiscal e com Pedido</a>
                <div class="dropdown-divider"></div>
              </div>
              <div *hasPermission="[Permissions.RecebimentoMaterialTransferenciaInstalacoes]">
                <a class="dropdown-item"
                  routerLink="/recebimento/material-por-transferência-entre-instalações">Recebimento de Material
                  por Transferência entre Instalações</a>
                <div class="dropdown-divider"></div>
              </div>
              <div *hasPermission="[Permissions.RecebimentoMaterialFornecedorComNotaSemPedido]">
                <a class="dropdown-item "
                  routerLink="/recebimento/material-de-fornecedor-com-nota-fiscal-e-sem-pedido/formulario">Recebimento
                  de Material de Fornecedor com Nota Fiscal e sem Pedido</a>
                <div class="dropdown-divider"></div>
              </div>
              <div *hasPermission="[Permissions.RecebimentoMaterialTerceiros]">
                <a class="dropdown-item" routerLink="/recebimento/material-de-terceiros/formulario">Recebimento de
                  Material de Terceiros</a>
                <div class="dropdown-divider"></div>
              </div>
              <div *hasPermission="[Permissions.RecebimentoMaterialDevolvidoDestinatario]">
                <a class="dropdown-item" routerLink="/recebimento/material-devolvido-destinatario/formulario">Recebimento de
                  Material Devolvido de Destinatário <div class="badge text-white">Retorno de campo</div></a>
                <div class="dropdown-divider"></div>
              </div>
              <a class="dropdown-item disabled"
                *hasPermission="[Permissions.RecebimentoMaterialDevolvidoGuardaProvisoria]"
                routerLink="/recebimento/">Recebimento de Material Devolvido de Guarda Provisória <div
                  class="badge text-white">
                  Retorno de campo</div></a>
            </div>
          </li>
          <li ngbDropdown class="nav-item dropdown" [class.active]="router.url.includes('/saida')" *hasAnyPermission="[Permissions.CriarDocumentoRma,
                                Permissions.CriarDocumentoTransferenciaInstalacoes,
                                Permissions.AprovarRma,
                                Permissions.AprovarTransferencia,
                                Permissions.SaidaMaterialAtendimentoRma,
                                Permissions.SaidaMaterialDiretaDestinatario,
                                Permissions.SaidaMaterialDiretaTransferencia,
                                Permissions.SaidaMaterialDiretaGuardaProvisoria,
                                Permissions.SaidaMaterialDiretaDevolucaoTerceiros,
                                Permissions.SaidaMaterialAtendimentoTransferencia]">
            <a class="nav-link navbar-item" id="navbarDropdown" ngbDropdownToggle>
              Saída
            </a>
            <div class="dropdown-menu dropdown-exit bg-light" ngbDropdownMenu aria-labelledby="navbarDropdown">
              <div *hasPermission="[Permissions.CriarDocumentoRma]">
                <a class="dropdown-item" routerLink="/saida/criar-documento-de-rma/formulario">Criar Documento de RMA</a>
                <div class="dropdown-divider"></div>
              </div>
              <div *hasPermission="[Permissions.CriarDocumentoTransferenciaInstalacoes]">
                <a class="dropdown-item" routerLink="/saida/criar-documento-de-transferencia-entre-instalacao/formulario">Criar Documento de Transferência entre Instalações</a>
                <div class="dropdown-divider"></div>
              </div>
              <div *hasPermission="[Permissions.AprovarRma]">
                <a class="dropdown-item" routerLink="/saida/aprovar-documento-de-rma">Aprovar RMA</a>
                <div class="dropdown-divider"></div>
              </div>
              <div *hasPermission="[Permissions.AprovarTransferencia]">
                <a class="dropdown-item" routerLink="/saida/">Aprovar Transferência</a>
                <div class="dropdown-divider"></div>
              </div>
              <div *hasPermission="[Permissions.SaidaMaterialAtendimentoRma]">
                <a class="dropdown-item" routerLink="/saida/">Saída de Material para Atendimento de RMA</a>
                <div class="dropdown-divider"></div>
              </div>
              <div *hasPermission="[]">
                <a class="dropdown-item" routerLink="/saida/saida-de-material-para-atendimento-de-transferencia/formulario">Saída de Material para Atendimento de Transferência</a>
                <div class="dropdown-divider"></div>
              </div>
              <div *hasPermission="[Permissions.SaidaMaterialDiretaDestinatario]">
                <a class="dropdown-item" routerLink="/saida/criar-saida-de-material-direta-para-destinatario/formulario">Saída de Material Direta para Destinatário</a>
                <div class="dropdown-divider"></div>
              </div>
              <div *hasPermission="[Permissions.SaidaMaterialDiretaTransferencia]">
                <a class="dropdown-item" routerLink="/saida/">Saída de Material Direta para Transferência</a>
                <div class="dropdown-divider"></div>
              </div>
              <div *hasPermission="[Permissions.SaidaMaterialDiretaGuardaProvisoria]">
                <a class="dropdown-item" routerLink="/saida/material-direta-para-guarda-provisoria/formulario">Saída de Material Direta para Guarda Provisória</a>
                <div class="dropdown-divider"></div>
              </div>
              <div *hasPermission="[Permissions.SaidaMaterialDiretaDevolucaoTerceiros]">
                <a class="dropdown-item" routerLink="/saida/material-direta-para-devolução-a-terceiros/formulario">Saída de Material Direta para Devolução à Terceiros</a>
              </div>
            </div>
          </li>
          <li ngbDropdown class="nav-item dropdown" *hasAnyPermission="[Permissions.ConsultarMateriais]"
            [class.active]="router.url.includes('/consultas')">
            <a class="nav-link navbar-item disabled" id="navbarDropdown" ngbDropdownToggle>
              Consulta
            </a>

          </li>
          <li ngbDropdown class="nav-item dropdown" [class.active]="router.url.includes('/admin')" *hasAnyPermission="[Permissions.Materiais,
                                            Permissions.Enderecos,
                                            Permissions.Fornecedores,
                                            Permissions.Instalacoes,
                                            Permissions.Projetos,
                                            Permissions.Filiais,
                                            Permissions.Perfis,
                                            Permissions.Usuarios]">
            <a class="nav-link navbar-item" id="navbarDropdown" ngbDropdownToggle>
              Administração
            </a>
            <div class="dropdown-menu bg-light pt-0 w-25vw dropdown-administration" ngbDropdownMenu
              aria-labelledby="navbarDropdown">
              <div *hasAnyPermission="[Permissions.Materiais,
                                        Permissions.Enderecos,
                                        Permissions.Fornecedores,
                                        Permissions.Instalacoes,
                                        Permissions.Projetos,
                                        Permissions.Filiais]">
                <a class="dropdown-item bg-white pt-2 pb-2 no-button">Cadastro</a>
                <div class="dropdown-divider mt-0"></div>
              </div>
              <div *hasPermission="[Permissions.Materiais]">
                <a class="dropdown-item pl-5" routerLink="/admin/materiais">Materiais</a>
                <div class="dropdown-divider"></div>
              </div>
              <div *hasPermission="[Permissions.Fornecedores]">
                <a class="dropdown-item pl-5" routerLink="/admin/fornecedores">Fornecedores</a>
                <div class="dropdown-divider"></div>
              </div>
              <div *hasPermission="[Permissions.Instalacoes]">
                <a class="dropdown-item pl-5" routerLink="/admin/instalacoes">Instalações</a>
                <div class="dropdown-divider"></div>
              </div>
              <div *hasPermission="[Permissions.Enderecos]" class="pl-4">
                <a class="dropdown-item pl-5" routerLink="/admin/enderecos">Endereço Complementar da
                  Instalação</a>
                <div class="dropdown-divider"></div>
              </div>
              <div *hasPermission="[Permissions.Projetos]">
                <a class="dropdown-item pl-5" routerLink="/admin/projetos">Projetos</a>
                <div class="dropdown-divider"></div>
              </div>
              <div *hasPermission="[Permissions.Filiais]">
                <a class="dropdown-item pl-5" routerLink="/admin/filiais">Filiais<div class="badge text-white ml-1">
                    Empresa</div></a>
                <div class="dropdown-divider mb-0"></div>
              </div>
              <div *hasPermission="[Permissions.Filiais]">
                <a class="dropdown-item pl-5" routerLink="/admin/destinatarioFinal">Destinatário
                  Final</a>
                <div class="dropdown-divider"></div>
              </div>
              <div *hasAnyPermission="[Permissions.Perfis,
                                                    Permissions.Usuarios]">
                <a class="dropdown-item bg-white pt-2 pb-2 no-button">Permissões</a>
                <div class="dropdown-divider mt-0"></div>
              </div>
              <div *hasPermission="[Permissions.Perfis]">
                <a class="dropdown-item pl-5" routerLink="/admin/perfis">Perfis</a>
                <div class="dropdown-divider"></div>
              </div>
              <a class="dropdown-item pl-5" *hasPermission="[Permissions.Usuarios]"
                routerLink="/admin/usuarios">Usuários</a>
            </div>
          </li>
        </ul>

        <div ngbDropdown placement="bottom-right" class="d-inline-block" #placeDropdown="ngbDropdown">
          <span class="fa fa-chevron-down" id="dropdownPlace" ngbDropdownToggle title="Local"></span>
          <div class="mt-3 p-3 dropdown-admin" ngbDropdownMenu aria-labelledby="dropdownPlace">
            <button type="button" class="close" aria-label="Close" (click)="placeDropdown.close();defaultFields()">
              <span aria-hidden="true" title="Fechar">&times;</span>
            </button>
            <h4>Local</h4>
            <label title="Filial">Filial</label>
            <ng-select [items]="listUserBranchOffice" bindLabel="description" (change)="selectBranchOffice($event)"
              [(ngModel)]="branchOffice" title="Filial" autofocus>
            </ng-select>
            <label class="mt-3" title="Instalação">Instalação</label>
            <ng-select [items]="listInstallationCombo" bindLabel="description" [(ngModel)]="installation"
              title="Instalação">
            </ng-select>
            <div class="row flex-lg-row-reverse">
              <button class="btn btn-save mt-3 mr-3" (click)="changeLocation(); placeDropdown.close()">
                <img src="../../../../assets/icons/salvar.svg" alt="Salvar" height="20" width="20">
                Salvar
              </button>
            </div>
          </div>
        </div>
        <div class="text-white d-flex flex-column col-3 information-place pt-1">
          <Label title="{{ installation?.description }}"
            class="mt-1 mb-1 text-white branch-office-label">{{ ((installation$ | async )?.description | maxLength) || '-' }}</Label>
          <label title="{{ installation?.location }}"
            class="text-white installation-label mt-0">{{ ((installation$ | async)?.location | maxLength) || '-' }}</label>
        </div>
        <ul class="navbar-nav mr-auto align-self-stretch">
          <li ngbDropdown class="nav-item dropdown active user" #userDropdown="ngbDropdown">
            <a class="nav-link navbar-item" id="userDropdown" ngbDropdownToggle title="Usuário">
              <img src="../../../../assets/icons/usuario.svg" alt="Sair" height="20" width="20">
            </a>
            <div class="dropdown-menu dropdown-menu-right dropdown-user p-3 mt-0" ngbDropdownMenu
              aria-labelledby="userDropdown">
              <button type="button" class="close" aria-label="Close" (click)="userDropdown.close()">
                <span aria-hidden="true" title="Fechar">&times;</span>
              </button>
              <h4>Usuário</h4>
              <img class="photo-user float-left mr-2" src="../../../../assets/icons/avatar.svg" alt="user">
              <div class="d-flex flex-column">
                <label class="name-user" title="{{(user$ | async)?.Username}}">{{(user$ | async)?.Username}}</label>
                <label class="office-user"
                  title="{{(user$ | async)?.RoleDescription}}">{{(user$ | async)?.RoleDescription}}</label>
              </div>
            </div>
          </li>
          <li class="nav-item ml-3" (click)="logout()" title="Sair">
            <img src="../../../../assets/icons/sair.svg" alt="Sair" height="20" width="20">
          </li>
        </ul>
      </div>
    </div>
  </nav>
</div>
